<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>User Interface Errors Due to Incompatibility With WebDAV</title><meta name="label" content="privilege_secure"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u000000PdKyCAK"/><meta name="Id" content="ka04u000000HdF5AAK"/><meta name="LastPublishedDate" content="2021-07-12T12:02:12.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:19:49.000+0000"/><meta name="FirstPublishedDate" content="2021-07-12T12:02:12.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="5888"/><meta name="ArticleNumber" content="000005888"/><meta name="description" content="User Interface Errors Due to Incompatibility With WebDAV"/></head><body><article class=" kb-articles"><div class="Content__c"><h2 id="summary">Summary</h2>

<p>Running WebDAV on an SbPAM server will lead to various errors in the SbPAM UI, and loss of certain UI functionality.</p>

<h2 id="issue">Issue</h2>

<p>For example, after WebDAV is installed on an SbPAM server, the following error displays in the UI when adding a service account:</p>

<pre class="ckeditor_codeblock">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; &lt;head&gt; &lt;title&gt;IIS 8.5 Detailed Error - 405.0 - Method Not Allowed&lt;/title&gt; &lt;style type="text/css"&gt; &lt;!-- body{margin:0;font-size:.7em;font-family:Verdana,Arial,Helvetica,sans-serif;} code{margin:0;color:#006600;font-size:1.1em;font-weight:bold;} .config_source code{font-size:.8em;color:#000000;} pre{margin:0;font-size:1.4em;word-wrap:break-word;} ul,ol{margin:10px 0 10px 5px;} ul.first,ol.first{margin-top:5px;} fieldset{padding:0 15px 10px 15px;word-break:break-all;} .summary-container fieldset{padding-bottom:5px;margin-top:4px;} legend.no-expand-all{padding:2px 15px 4px 10px;margin:0 0 0 -12px;} legend{color:#333333;;margin:4px 0 8px -12px;_margin-top:0px; font-weight:bold;font-size:1em;} a:link,a:visited{color:#007EFF;font-weight:bold;} a:hover{text-decoration:none;} h1{font-size:2.4em;margin:0;color:#FFF;} h2{font-size:1.7em;margin:0;color:#CC0000;} h3{font-size:1.4em;margin:10px 0 0 0;color:#CC0000;} h4{font-size:1.2em;margin:10px 0 5px 0; }#header{width:96%;margin:0 0 0 0;padding:6px 2% 6px 2%;font-family:"trebuchet MS",Verdana,sans-serif; color:#FFF;background-color:#5C87B2; }#content{margin:0 0 0 2%;position:relative;} .summary-container,.content-container{background:#FFF;width:96%;margin-top:8px;padding:10px;position:relative;} .content-container p{margin:0 0 10px 0; }#details-left{width:35%;float:left;margin-right:2%; }#details-right{width:63%;float:left;overflow:hidden; }#server_version{width:96%;_height:1px;min-height:1px;margin:0 0 5px 0;padding:11px 2% 8px 2%;color:#FFFFFF; background-color:#5A7FA5;border-bottom:1px solid #C1CFDD;border-top:1px solid #4A6C8E;font-weight:normal; font-size:1em;color:#FFF;text-align:right; }#server_version p{margin:5px 0;} table{margin:4px 0 4px 0;width:100%;border:none;} td,th{vertical-align:top;padding:3px 0;text-align:left;font-weight:normal;border:none;} th{width:30%;text-align:right;padding-right:2%;font-weight:bold;} thead th{background-color:#ebebeb;width:25%; }#details-right th{width:20%;} table tr.alt td,table tr.alt th{} .highlight-code{color:#CC0000;font-weight:bold;font-style:italic;} .clear{clear:both;} .preferred{padding:0 5px 2px 5px;font-weight:normal;background:#006633;color:#FFF;font-size:.8em;} --&gt; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="content"&gt; &lt;div class="content-container"&gt; &lt;h3&gt;HTTP Error 405.0 - Method Not Allowed&lt;/h3&gt; &lt;h4&gt;The page you are looking for cannot be displayed because an invalid method (HTTP verb) is being used.&lt;/h4&gt; &lt;/div&gt; &lt;div class="content-container"&gt; &lt;fieldset&gt;&lt;h4&gt;Most likely causes:&lt;/h4&gt; &lt;ul&gt; &lt;li&gt;The request sent to the Web server used an HTTP verb that is not allowed by the module configured to handle the request.&lt;/li&gt; &lt;li&gt;A request was sent to the server that contained an invalid HTTP verb.&lt;/li&gt; &lt;li&gt;The request is for static content and contains an HTTP verb other than GET or HEAD.&lt;/li&gt; &lt;li&gt;A request was sent to a virtual directory using the HTTP verb POST and the default document is a static file that does not support HTTP verbs other than GET or HEAD.&lt;/li&gt; &lt;/ul&gt; &lt;/fieldset&gt; &lt;/div&gt; &lt;div class="content-container"&gt; &lt;fieldset&gt;&lt;h4&gt;Things you can try:&lt;/h4&gt; &lt;ul&gt; &lt;li&gt;Verify the list of verbs enabled for the module handler this request was sent to, and ensure that this verb should be allowed for the Web site.&lt;/li&gt; &lt;li&gt;Check the IIS log file to see which verb is not allowed for the request.&lt;/li&gt; &lt;li&gt;Create a tracing rule to track failed requests for this HTTP status code. For more information about creating a tracing rule for failed requests, click &lt;a href="http://go.microsoft.com/fwlink/?LinkID=66439"&gt;here&lt;/a&gt;. &lt;/li&gt; &lt;/ul&gt; &lt;/fieldset&gt; &lt;/div&gt; &lt;div class="content-container"&gt; &lt;fieldset&gt;&lt;h4&gt;Detailed Error Information:&lt;/h4&gt; &lt;div id="details-left"&gt; &lt;table border="0" cellpadding="0" cellspacing="0"&gt; &lt;tr class="alt"&gt;&lt;th&gt;Module&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;WebDAVModule&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;th&gt;Notification&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;MapRequestHandler&lt;/td&gt;&lt;/tr&gt; &lt;tr class="alt"&gt;&lt;th&gt;Handler&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;aspNetCore&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;th&gt;Error Code&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x00000000&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;/div&gt; &lt;div id="details-right"&gt; &lt;table border="0" cellpadding="0" cellspacing="0"&gt; &lt;tr class="alt"&gt;&lt;th&gt;Requested URL&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;https://cm-sa-vm.cm-vm.com:6500/api/v1/Credential/3c7bad4e-a66a-4928-87b5-706d6220d52d&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;th&gt;Physical Path&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;C:\Program Files\Stealthbits\PAM\Web\api\v1\Credential\3c7bad4e-a66a-4928-87b5-706d6220d52d&lt;/td&gt;&lt;/tr&gt; &lt;tr class="alt"&gt;&lt;th&gt;Logon Method&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;Anonymous&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;th&gt;Logon User&lt;/th&gt;&lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;Anonymous&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;div class="clear"&gt;&lt;/div&gt; &lt;/div&gt; &lt;/fieldset&gt; &lt;/div&gt; &lt;div class="content-container"&gt; &lt;fieldset&gt;&lt;h4&gt;More Information:&lt;/h4&gt; This error means that the request sent to the Web server contained an HTTP verb that is not allowed by the configured module handler for the request. &lt;p&gt;&lt;a href="http://go.microsoft.com/fwlink/?LinkID=62293&amp;amp;IIS70Error=405,0,0x00000000,9600"&gt;View more information &amp;raquo;&lt;/a&gt;&lt;/p&gt; &lt;/fieldset&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;</pre>

<h2 id="instructions">Instructions</h2>

<p>SbPAM's incompatibility with WebDAV can be mitigated by disabling WebDAV for SbPAM's Internet Information Services (IIS) web.config.</p>

<p>First, backup the following file and then open the original file in a text editor:</p>

<pre class="ckeditor_codeblock">%PROGRAMFILES%\Stealthbits\PAM\Web\web.config</pre>

<p>In web.config, under &lt;system.webServer&gt; add the following:</p>

<pre class="ckeditor_codeblock">&lt;modules&gt;
  &lt;remove name="WebDAVModule" /&gt;
&lt;/modules&gt;</pre>

<p>Then, under &lt;handlers&gt; (which is a child field of &lt;system.webServer&gt;) add the following:</p>

<pre class="ckeditor_codeblock">&lt;remove name="WebDAV" /&gt;</pre>

<p>Save the file, open an elevated Command Prompt, and run the following command to restart IIS so the change can take effect:</p>

<pre class="ckeditor_codeblock">iisreset</pre></div>
</article></body></html>