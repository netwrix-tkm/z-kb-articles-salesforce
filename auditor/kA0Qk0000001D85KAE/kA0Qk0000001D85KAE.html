<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Error: Check Your SQL Server Settings in Audit Database Settings</title>
    <meta name="label" content="public_v" />
    <meta name="label" content="skb" />
    <meta name="label" content="auditor" />
    <meta name="KnowledgeArticleId" content="kA0Qk0000001D85KAE" />
    <meta name="Id" content="ka0Qk0000004BphIAE" />
    <meta name="LastPublishedDate" content="2024-06-12T08:16:02.000+0000" />
    <meta name="LastModifiedDate" content="2024-06-12T08:18:31.000+0000" />
    <meta name="FirstPublishedDate" content="2024-06-12T08:16:02.000+0000" />
    <meta name="Language" content="en_US" />
    <meta name="UrlName" content="9199" />
    <meta name="ArticleNumber" content="000009199" />
    <meta
      name="description"
      content="Error: Check Your SQL Server Settings in Audit Database Settings"
    />
  </head>
  <body>
    <article class="kb-articles">
      <div class="Content__c">
        <h2 id="related_queries">Related Queries</h2>

        <ul>
          <li>
            <p>
              "We are moving AD Auditor to a new domain/server and getting a connection error on DB
              restore."
            </p>
          </li>
          <li>
            <p>
              "We are migrating our Netwrix DB over to a new domain/server. Netwrix AD Auditor is
              installed on the new domain/server. SQL DB is coming from SQL 2019, new DB server is
              SQL 2022 and we are getting a connection error on the SQL listener."
            </p>
          </li>
        </ul>

        <h2 id="symptoms">Symptoms</h2>

        <div>
          <p>
            Netwrix Auditor prompts one of the following error messages when you set up the Audit
            Database:
          </p>

          <pre class="has-inner-focus">
Error validating settings. Check your SQL Server settings.
The network location cannot be reached. For information about network troubleshooting, see Windows Help</pre
          >

          <pre class="has-inner-focus">
Error validating settings. Check your SQL Server settings.
SQL Server error occurred (17, [DBNETLIB][ConnectionOpen (Connect()).] SQL Server does not exist or access denied.)</pre
          >
        </div>

        <h2 id="causes">Causes</h2>

        <div>
          <p>Refer to the list of possible causes for the error:</p>

          <ol>
            <li>
              <p>An incorrect SQL Server name is specified in the Audit Database settings.</p>
            </li>
            <li>
              <p>The SQL Server is not configured to allow remote connections.</p>
            </li>
            <li>
              <p>The SQL Server network protocols are disabled.</p>
            </li>
          </ol>
        </div>

        <h2 id="resolutions">Resolutions</h2>

        <div>
          <ol>
            <li>
              <p>
                Verify the SQL Server instance name specified in the Audit Database settings. Refer
                to the following article for additional information:
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D01KAE.html"
                  target="_self"
                  >Specifying the SQL Server Instance Name</a
                >.
              </p>
            </li>
            <li>
              <p>
                Configure your SQL Server instance to allow remote connections. Learn more in
                <a
                  href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-the-remote-access-server-configuration-option?view=sql-server-ver16#SSMSProcedure"
                  target="_blank"
                  >Configure remote access (server configuration option) â€” Use SQL Server Management
                  Studio â¸± Microsoft ðŸ¡¥</a
                >.
              </p>
            </li>
            <li>
              <p>
                Enable the TCP/IP protocol in the SQL Serverâ€”refer to the following article for
                additional information:
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D6TKAU.html"
                  target="_blank"
                  >Enable TCP/IP Protocol in SQL Server</a
                >.
              </p>

              <blockquote>
                <p>
                  <span><strong>NOTE: </strong></span>Alternatively, review the TCP port used for
                  SQL Server communicationâ€”learn more in
                  <a
                    href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port?view=sql-server-ver15#assign-a-tcpip-port-number-to-the-sql-server-database-engine"
                    target="_blank"
                    >Configure SQL Server to listen on a specific TCP port â€” Assign a TCP/IP port
                    number to the SQL Server Database Engine â¸± Microsoft ðŸ¡¥</a
                  >. For additional information on setting a custom TCP port in Auditor, refer to
                  the following article:
                  <a
                    href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u00000110rCCAQ.html"
                    target="_self"
                    >Specify Custom SQL Server Port for Netwrix Auditor Audit Database</a
                  >.
                </p>
              </blockquote>
            </li>
          </ol>
        </div>

        <h2 id="related_articles">Related Articles</h2>

        <div>
          <ul>
            <li>
              <p>
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D01KAE.html"
                  target="_self"
                  >Specifying the SQL Server Instance Name</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-the-remote-access-server-configuration-option?view=sql-server-ver16#SSMSProcedure"
                  target="_blank"
                  >Configure remote access (server configuration option) â€” Use SQL Server Management
                  Studio â¸± Microsoft ðŸ¡¥</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D6TKAU.html"
                  target="_blank"
                  >Enable TCP/IP Protocol in SQL Server</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port?view=sql-server-ver15#assign-a-tcpip-port-number-to-the-sql-server-database-engine"
                  target="_blank"
                  >Configure SQL Server to listen on a specific TCP port â€” Assign a TCP/IP port
                  number to the SQL Server Database Engine â¸± Microsoft ðŸ¡¥</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u00000110rCCAQ.html"
                  target="_self"
                  >Specify Custom SQL Server Port for Netwrix Auditor Audit Database</a
                >
              </p>
            </li>
          </ul>
        </div>
      </div>
    </article>
  </body>
</html>
