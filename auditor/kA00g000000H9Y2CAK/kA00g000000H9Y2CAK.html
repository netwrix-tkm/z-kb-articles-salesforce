<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Error: Could Not Connect to Server</title>
    <meta name="label" content="auditor" />
    <meta name="label" content="public_v" />
    <meta name="label" content="skb" />
    <meta name="KnowledgeArticleId" content="kA00g000000H9Y2CAK" />
    <meta name="Id" content="ka0Qk0000004BmTIAU" />
    <meta name="LastPublishedDate" content="2024-06-12T08:13:13.000+0000" />
    <meta name="LastModifiedDate" content="2024-06-12T08:14:16.000+0000" />
    <meta name="FirstPublishedDate" content="2020-04-01T09:30:21.000+0000" />
    <meta name="Language" content="en_US" />
    <meta name="UrlName" content="1160" />
    <meta name="ArticleNumber" content="000003317" />
    <meta name="description" content="Netwrix Auditor, SQL, Could not connect to the server." />
  </head>
  <body>
    <article class="kb-articles">
      <div class="Content__c">
        <h2 id="related_queries">Related Queries</h2>

        <ul>
          <li>
            <p>
              "We are moving AD Auditor to a new domain/server and getting a connection error on DB
              restore."
            </p>
          </li>
          <li>
            <p>
              "We are migrating our Netwrix DB over to a new domain/server. Netwrix AD Auditor is
              installed on the new domain/server. SQL DB is coming from SQL 2019, new DB server is
              SQL 2022 and we are getting a connection error on the SQL listener."
            </p>
          </li>
        </ul>

        <h2 id="symptoms">Symptoms</h2>

        <div>
          <p>
            When configuring the Audit Database settings in Netwrix Auditor, the following error
            message appears:
          </p>

          <pre class="has-inner-focus">
Could not connect to the server.
A network-related or instance-specific error occurred while establishing a connection to SQL Server.
The server was not found or was not accessible.
Verify that the instance name is correct and that SQL Server is configured to allow remote connections.
(provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)</pre
          >
        </div>

        <h2 id="causes">Causes</h2>

        <div>
          <p>Refer to the list of possible causes for the error:</p>

          <ol>
            <li>
              <p>An incorrect SQL Server name is specified in the Audit Database settings.</p>
            </li>
            <li>
              <p>The SQL Server is not configured to allow remote connections.</p>
            </li>
            <li>
              <p>The SQL Server network protocols are disabled.</p>
            </li>
          </ol>
        </div>

        <h2 id="resolutions">Resolutions</h2>

        <div>
          <ol>
            <li>
              <p>
                Verify the SQL Server instance name specified in the Audit Database settings. Refer
                to the following article for additional information:
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D01KAE.html"
                  target="_self"
                  >Specifying the SQL Server Instance Name</a
                >.
              </p>
            </li>
            <li>
              <p>
                Configure your SQL Server instance to allow remote connections. Learn more in
                <a
                  href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-the-remote-access-server-configuration-option?view=sql-server-ver16#SSMSProcedure"
                  target="_blank"
                  >Configure remote access (server configuration option) â€” Use SQL Server Management
                  Studio â¸± Microsoft ðŸ¡¥</a
                >.
              </p>
            </li>
            <li>
              <p>
                Enable the TCP/IP protocol in the SQL Serverâ€”refer to the following article for
                additional information:
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D6TKAU.html"
                  target="_blank"
                  >Enable TCP/IP Protocol in SQL Server</a
                >.
              </p>

              <blockquote>
                <p>
                  <span><strong>NOTE: </strong></span>Alternatively, review the TCP port used for
                  SQL Server communicationâ€”learn more in
                  <a
                    href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port?view=sql-server-ver15#assign-a-tcpip-port-number-to-the-sql-server-database-engine"
                    target="_blank"
                    >Configure SQL Server to listen on a specific TCP port â€” Assign a TCP/IP port
                    number to the SQL Server Database Engine â¸± Microsoft ðŸ¡¥</a
                  >. For additional information on setting a custom TCP port in Auditor, refer to
                  the following article:
                  <a
                    href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u00000110rCCAQ.html"
                    target="_self"
                    >Specify Custom SQL Server Port for Netwrix Auditor Audit Database</a
                  >.
                </p>
              </blockquote>
            </li>
          </ol>
        </div>

        <h2 id="related_articles">Related Articles</h2>

        <div>
          <ul>
            <li>
              <p>
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D01KAE.html"
                  target="_self"
                  >Specifying the SQL Server Instance Name</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-the-remote-access-server-configuration-option?view=sql-server-ver16#SSMSProcedure"
                  target="_blank"
                  >Configure remote access (server configuration option) â€” Use SQL Server Management
                  Studio â¸± Microsoft ðŸ¡¥</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk0000001D6TKAU.html"
                  target="_blank"
                  >Enable TCP/IP Protocol in SQL Server</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port?view=sql-server-ver15#assign-a-tcpip-port-number-to-the-sql-server-database-engine"
                  target="_blank"
                  >Configure SQL Server to listen on a specific TCP port â€” Assign a TCP/IP port
                  number to the SQL Server Database Engine â¸± Microsoft ðŸ¡¥</a
                >
              </p>
            </li>
            <li>
              <p>
                <a
                  href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u00000110rCCAQ.html"
                  target="_self"
                  >Specify Custom SQL Server Port for Netwrix Auditor Audit Database</a
                >
              </p>
            </li>
          </ul>
        </div>
      </div>
    </article>
  </body>
</html>
