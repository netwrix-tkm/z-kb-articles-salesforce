<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hotfix: SbPAM 3.0 SP3 HF010 (3.0.8108)</title>
    <meta name="label" content="skb" />
    <meta name="label" content="employees_v" />
    <meta name="KnowledgeArticleId" content="kA04u0000000I3VCAU" />
    <meta name="Id" content="ka04u000000HcegAAC" />
    <meta name="LastPublishedDate" content="2022-02-01T17:59:55.000+0000" />
    <meta name="LastModifiedDate" content="2023-05-08T10:02:03.000+0000" />
    <meta name="FirstPublishedDate" content="2022-02-01T17:59:55.000+0000" />
    <meta name="Language" content="en_US" />
    <meta name="UrlName" content="6143" />
    <meta name="ArticleNumber" content="000006143" />
    <meta name="description" content="360012928611" />
  </head>
  <body>
    <article class="kb-articles">
      <div class="Content__c">
        <p><strong>Summary:</strong></p>
        <p>
          Fixes issue where UsnChange numbers &gt; 2147483647 and ADSync fails with
          System.OverflowException:
        </p>
        <p>Value was either too large or too small for an Int32.</p>
        <p><strong>Submitted by:</strong></p>
        <p>Kevin Horvatin</p>
        <p><strong>Affected Versions:</strong></p>
        <p>SbPAM 3.0.8051</p>
        <p>SbPAM 3.0.8062</p>
        <p>SbPAM 3.0.8064</p>
        <p>SbPAM 3.0.8068</p>
        <p>SbPAM 3.0.8085</p>
        <p>SbPAM 3.0.8090</p>
        <p>SbPAM 3.0.8094</p>
        <p>SbPAM 3.0.8097</p>
        <p>SbPAM 3.0.8102</p>
        <p>SbPAM 3.0.8105</p>
        <p> </p>
        <p><strong>KB Type:</strong></p>
        <p>Hotfix</p>
        <p><strong>Work Items/Escalations</strong></p>
        <p>3.0sp3 Hotfix 010</p>
        <div class="table-wrap">
          <table count-columns="1" width="742">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>Work Item</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     5332 ADSync fails with System.OverflowException: Value was either too large or
                    too small for an
                  </p>
                  <p>Int32.                    </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>Cumulative List of fixes included since Service Pack:</p>
        <p>3.0sp3 Hotfix 009</p>
        <div class="table-wrap">
          <table count-columns="2" width="614">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="538">
                  <p>Work Item</p>
                </td>
                <td colspan="1" rowspan="1" width="76">
                  <p> </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="538">
                  <p> 4781 59052 - Some servers activity fails when creating RDP session.</p>
                </td>
                <td colspan="1" rowspan="1" width="76">
                  <p> </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="538">
                  <p>    4941 59240 - MQ Timeout Error                                    </p>
                </td>
                <td colspan="1" rowspan="1" width="76">
                  <p> </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="538">
                  <p>   5002 SSH Password prompt is not clear</p>
                </td>
                <td colspan="1" rowspan="1" width="76">
                  <p> </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 008</p>
        <div class="table-wrap">
          <table count-columns="2" width="648">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="562">
                  <p>Work Item</p>
                </td>
                <td colspan="1" rowspan="1" width="85">
                  <p> </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="562">
                  <p> 4866 SAML login does not work for external login with browser extension.</p>
                </td>
                <td colspan="1" rowspan="1" width="85">
                  <p> </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 007</p>
        <div class="table-wrap">
          <table count-columns="1" width="742">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>Work Item</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     4525 Host scan reports an error for OpenSUSE when we can't locate either yum or
                    apt package managers.   
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     4674 SSH Connection fails on initial hostscan
                                                            
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 006</p>
        <div class="table-wrap">
          <table count-columns="2" width="537">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="449">
                  <p>Work Item</p>
                </td>
                <td colspan="1" rowspan="1" width="88">
                  <p> </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="449">
                  <p> 4541 Add ticket to activity session                                     </p>
                </td>
                <td colspan="1" rowspan="1" width="88">
                  <p> </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="449">
                  <p> 4543 Local Windows service accounts cannot be rotated.</p>
                </td>
                <td colspan="1" rowspan="1" width="88">
                  <p> </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 005</p>
        <div class="table-wrap">
          <table count-columns="1" width="742">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>Work Item</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     4392 Resource domain service account is getting used instead of group service
                    account
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 004</p>
        <div class="table-wrap">
          <table count-columns="1" width="742">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>Work Item</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     3092 JWT signing key gets updated on each upgrade requiring services to be
                    re-registered
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2975 Activity Tokens may fail to create and/or be added to Domain Groups during
                    activities that target a root domain and trusted sub-domains.
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2896 58272 - Users being left in groups when sessions using the same user/group
                    combination are closed simultaneously.
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2852 User cannot login if assigned external auth before first login and
                    configure of internal MFA
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2848 58219 - SbPAM Configuring SIEM will send previous events prior to setup
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2712 58037 - SbPAM locking out managed accounts - password rotation issue with
                    multiple sessions
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 003</p>
        <div class="table-wrap">
          <table count-columns="1" width="727">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="727">
                  <p>Work Item</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="727">
                  <p>
                     2759 2nd tier approver gets cleared when first tier is approved - Connection
                    Profiles
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="727">
                  <p> 2773 Linux hostscan fails with ToInt32() error</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="727">
                  <p>2824 Allow authenticators to be used that aren't assigned</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="727">
                  <p>
                     2831 58190 - Add to Domain Group fails with I_NetLogonControl failed: Status =
                    1355
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 002</p>
        <div class="table-wrap">
          <table count-columns="1" width="385">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="385">
                  <p>Work Item</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="385">
                  <p> 2772 Proxy unable to find resource</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>3.0sp3 Hotfix 001</p>
        <div class="table-wrap">
          <table count-columns="1" width="742">
            <tbody>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>Work Item</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     1548 Domain users are not added as members of local groups during host scan
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>2266 Add support for ADFS SAML authentication</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p> 2334 Setting authentication connector fails for Groups</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2335 Deleting all default activities causes upgrade to fail from 3.0.60xx to
                    3.0.8051
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2353 WebSite activities for domain groups should not require associated
                    resources / domain controllers
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                     2557 Issues with Host Scan status / Users disappear when scan is running /
                    Resource constantly showing as 'Scanning'
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p>
                    2633 Linux resource scans should fall back to checking /usr/lib/os-release when
                    /etc/os-release is not found.
                  </p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p> 2685 Adding a Linux host manually will fail hostscan</p>
                </td>
              </tr>
              <tr>
                <td colspan="1" rowspan="1" width="742">
                  <p> 2560 57824 - sbPAM - Resource "Scanning" would seem to be stuck</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p><strong>Instructions:</strong></p>
        <p>Download Zip file to SbPAM Server.</p>
        <p>NOTE If running HA configuration, please refer to HA instructions.</p>
        <p>. Extract all files.</p>
        <p>. Run Sb_Setup.exe as Administrator.</p>
        <p>
          . If upgrading from 3.0sp2 then after setup completes, login to SbPAM Web UI to allow
          services to reregister.
        </p>
        <p>Configuration instructions for 2824</p>
        <p>2824 Allow authenticators to be used that aren't assigned</p>
        <p>
          To change the authenticator behavior to pre-sp3 behavior (any user can authenticate with
          an external
        </p>
        <p>
          authenticator), update the Web
          <sub>c:\program files\stealthbits\PAM\Web\appsettings.json</sub> file. NOTE This path may
          vary if you installed to a non-default location.
        </p>
        <p>
          Add the following line before the closing <sub>} </sub>, "StrictExternalAuth": "False" For
          example if your existing appsettings file looks like this:
        </p>
        <p>{</p>
        <p>   "StrictExternalAuth": "False"</p>
        <p>}</p>
        <p>Make sure to add a comma if there are other properties</p>
        <p>BEFORE</p>
        <p>{</p>
        <p>   "Example": "value"</p>
        <p>} AFTER</p>
        <p>{</p>
        <p>   "Example": "value",</p>
        <p>   "StrictExternalAuth": "False"</p>
        <p>}</p>
        <p> </p>
        <p>
          <a
            href="https://downloads.stealthbits.com/access/files/SbPAMHotfixes/3.0/SbPAM.3.0.8108.zip"
            target="_blank"
            >https://downloads.stealthbits.com/access/files/SbPAMHotfixes/3.0/SbPAM.3.0.8108.zip</a
          >
        </p>
        <p> </p>
      </div>
    </article>
  </body>
</html>
