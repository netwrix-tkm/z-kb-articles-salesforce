<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>Hotfix: SA_8.2_070</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000INDCA2"/><meta name="Id" content="ka04u000000HclcAAC"/><meta name="LastPublishedDate" content="2022-02-01T18:49:43.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:06:13.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:49:43.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7695"/><meta name="ArticleNumber" content="000007695"/><meta name="description" content="360012326351"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> ADInventory | Handle LDAP Disconnect Better</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <span><span><span><strong><span>Summary: </span></strong></span></span></span><br/><span><span><span>ADInventory | Handle LDAP Disconnect Better</span></span></span><br/><span><span><span><strong><span>Submitted by: </span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Justin Giemza</span></span></span></span></span><br/><span><span><span><strong><span>Cumulative List of fixes included since Service Pack:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-4824             ADInventory long running scan time </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-4979             Active Directory Inventory deadlock error on differential scan against multiple domains </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5019             Deadlock error when scanning </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5259             ADInventory error 'Error while searching 'SA_ADInventory_DistinguishedNames' </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5287             ADPerms FR: Drop specific objecttypes</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5290             ADPerms FR: delta collections longer than full scan - process parents of objects scanned</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5262             ADPerms: Duplicate entries in Sets and Inheritance tables</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5164             ADPerms: List object permissions analysis review</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5145             New AD Permissions views do not contain cross-forest permissions</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5411             Multi-value attributes and change tracking causing deadlock</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-5980             Customer still getting deadlocks and execution timeouts after 8.2.112 hotfix</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6162             Deadlocks and execution timeouts</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6315             ADInventory error writing extended attributes (too long)</span></span></span></span></span><br/><br/><span><span><span><strong><span>Affected Versions:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span><u>Private Assemblies:</u></span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Stealthbits.StealthAUDIT.DataCollectors.ADInventory.UI.dll           8.2.119</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                Stealthbits.StealthAUDIT.DataCollectors.ADInventory.dll                8.2.119</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span><u>DC:</u></span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>DCADInventory.DLL                                                                                         8.2.119  </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span><u>GROUP_.Active Directory Inventory\JOB_1-AD_Scan:</u></span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>JOB_1-AD_Scan.xml </span></span></span></span></span><br/><span><span><span><strong><span>Affected Module:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SA - DC - ADInventory</span></span></span></span></span><br/><span><span><span><strong><span>Dev Ticket:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6306</span></span></span></span></span><br/><span><span><span><strong><span>Resolved in Version:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>8.2</span></span></span></span></span><br/><span><span><span><strong><span>KB Type: </span></strong><span class="MsoSubtleEmphasis"><span>Bug</span></span></span></span></span><br/><span><span><span><strong><span>Issue:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Customer was targeting multiple large domains in remote datacenters and the default LDAP retry time and attempts was not enough to complete a full scan.  This HF exposes those settings in the XML (NOT IN THE GUI)</span></span></span></span></span><br/><span><span><span><strong><span>Instructions:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>1. Unblock the hotfix zip file in the windows property dialog if an unblock button exists there. </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>2. Close all instances of StealthAUDIT (check task manager under processes for all users)</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>3. Exit StealthAUDIT console</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>4. Copy and replace files from the included folders</span></span></span></span></span><br/><span><span><span>                               </span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>To Configure settings for LDAP retry count:</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                1. Open job XML </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                2. Search for LdapConnectionRetryCount</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                3. Configure insert value less than 46339</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                This example will allow 100 retries before failing</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                LdapConnectionRetryCount&gt;100</span></span></span></span><br/><br/><span><span><span><span class="MsoSubtleEmphasis"><span>To Configure settings for LDAP retry wait :</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                1. Open job XML </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                2. Search for LdapConnectionRetryWaitSeconds</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                3. Configure insert value less than 46339</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                This example will give 120 seconds before a retry is attempted</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                LdapConnectionRetryWaitSeconds&gt;120</span></span></span></span><br/><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Here is a snippet from the XML after modifying the above values(Values are highlighted):</span></span></span></span></span><br/><br/><span><span><span><span class="MsoSubtleEmphasis"><span>READ</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>YES</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                                                ScanFalseFalseTrueTrueTrue30TrueFalseFalse300<span>LdapConnectionRetryCount&gt;100120&gt;*UsermsDS-AllowedToDelegateTo*ComputermsDS-AllowedToDelegateTo*UserservicePrincipalName</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Domain</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Domain</span></span></span></span></span><br/><br/> </span></span></span></p><p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> <span><span><span><strong><span>Instructions:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>1. Unblock the hotfix zip file in the windows property dialog if an unblock button exists there. </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>2. Close all instances of StealthAUDIT (check task manager under processes for all users)</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>3. Exit StealthAUDIT console</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>4. Copy and replace files from the included folders</span></span></span></span></span><br/><span><span><span>                               </span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>To Configure settings for LDAP retry count:</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                1. Open job XML </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                2. Search for LdapConnectionRetryCount</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                3. Configure insert value less than 46339</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                This example will allow 100 retries before failing</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                LdapConnectionRetryCount&gt;100</span></span></span></span><br/><br/><span><span><span><span class="MsoSubtleEmphasis"><span>To Configure settings for LDAP retry wait :</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                1. Open job XML </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                2. Search for LdapConnectionRetryWaitSeconds</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                3. Configure insert value less than 46339</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                This example will give 120 seconds before a retry is attempted</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                LdapConnectionRetryWaitSeconds&gt;120</span></span></span></span><br/><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Here is a snippet from the XML after modifying the above values(Values are highlighted):</span></span></span></span></span><br/><br/><span><span><span><span class="MsoSubtleEmphasis"><span>READ</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>YES</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>                                                ScanFalseFalseTrueTrueTrue30TrueFalseFalse300<span><span>LdapConnectionRetryCount&gt;100120</span>&gt;*UsermsDS-AllowedToDelegateTo*ComputermsDS-AllowedToDelegateTo*UserservicePrincipalName</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span/></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Domain</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>Domain</span></span></span></span></span><br/><br/><br/><a href="https://downloads.stealthbits.com/access/files/SAHotFixes/8.2/SA_8.2_070.zip" target="_blank">https://downloads.stealthbits.com/access/files/SAHotFixes/8.2/SA_8.2_070.zip</a><br/><br/> </span></span></span></p><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br/><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - DC - ADInventory<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> Private Assemblies: Stealthbits.StealthAUDIT.DataCollectors.ADInventory.UI.dll 	8.2.119 	Stealthbits.StealthAUDIT.DataCollectors.ADInventory.dll		8.2.119 DC: DCADInventory.DLL						8.2.119	 GROUP_.Active Directory Inventory\JOB_1-AD_Scan: JOB_1-AD_Scan.xm<br/><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SAT-6306<br/><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> 8.2<br/><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 2485<br/></p></div>
</article></body></html>