<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>Hotfix: SA_8.1_027</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000JEVCA2"/><meta name="Id" content="ka04u000000Hd5WAAS"/><meta name="LastPublishedDate" content="2022-02-01T18:51:58.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:15:44.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:51:58.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7850"/><meta name="ArticleNumber" content="000007850"/><meta name="description" content="360012217852"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> Shares Marked as Deleted When Access to Enumerate Shares is Revoked</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong>  <strong>Behavior Before Fix:</strong><br/><br/>Previously scanned shares are marked as deleted if access to enumerate shares is revoked on the file server.<br/><br/><strong>Behavior After Fix:</strong><br/><br/>Shares are no longer marked as deleted in this scenario.<br/><br/><strong><span>YouTrack/Escalations</span></strong><br/> <br/><strong><span>-              SAFS-2692/19369 19531</span></strong><br/> <br/><strong><span>Customers</span></strong><br/>  
</p><ul><li>
<strong><span>Bank of America Corporation</span></strong>
</li><li><strong><span>US Department of Treasury-Office of the Comptroller of the Currency</span></strong></li></ul> <br/><strong><span>Cumulative List of fixes included since Service Pack:</span></strong><br/> <br/>-              SAFS-14545 SDD Bulk Import clearing tier 1 data prior to checking if DLPEX db exists<br/>-              SAFS-14541 Remove Description in FSAAConfig.xml<br/>-              SAFS-14548 FSAC Bulk Import performance issue<br/>-              SAFS-2705 15281 - FSAA unspecified error<br/>-              SAFS-14573 22741 - FSAA Migration Query 7.2 to 8.0 Duplicate Column Error<br/>-              SAFS-14598 22741 - FSAA Migration Query 7.2 to 8.0 Could not convert variant of type (Null) into type (Integer)<br/>-              SAFS-14593 Update bulk import to not delete Activity and DLPEX tier 2 dbs.<br/>-              SAFS-2707 19757 - FSAC Bulk Import Rollback Due to Unspecified Error<br/>-              SAFS-14595 22840 - There is an error in XML document (0, 0). ---&gt; System.OverflowException: Value was either too large or too small for an Int32.<br/><strong><span>-              SAFS-14633 Update FSAA to not delete DLPEX db when streaming</span></strong><br/><strong><span>-              SAFS-14566 Update FSAA to pass parameters to SDD</span></strong><br/><strong><span>-              SAFS-14672 FSAC Access Violation on scans</span></strong><br/><strong><span>-              SAFS-14685 Access violation when cancelling streaming FSAA scan due to timeout or DC-side streaming error</span></strong><br/><strong><span>-              SAFS-14596 22751 - Access Violation with FSAA Scan v8.1</span></strong><br/><strong><span>-              SAFS-14483 22116 - Do Not Delete Activity Data Automatically (8.1+ Implementation)</span></strong><br/><strong><span>-              SAFS-14723 NFS Scans Don't Scan Subfolders when "Limit Subfolder Depth" is checked</span></strong><br/><strong><span>-              SAFS-14720 23415 - DFS Collection: FSAA.FSAAException: Unable to determine domain: 5</span></strong><br/><strong><span>-              SAFS-14670 23199 - FSAA doesn't throw error when service account doesn't have enough permission to scan shares.</span></strong><br/><strong><span>-              SAFS-14688 Applet log level of "None" sends all log messages to StealthAUDITRPC.exe trace log file</span></strong><br/><strong><span>-              SAFS-14677 22992/22994 - FSAA automatically clean up old files.</span></strong><br/><strong><span>-              SAFS-2771 20689 - Error during storing DailyActivity: '' is not a valid integer value</span></strong><br/><strong><span>-              SAFS-14735  Rename streaming database to include scan type</span></strong><br/><strong><span>-              SAFS-14738 Error when scanning with System default profile.</span></strong><br/><strong><span>-              SAFS-2173 14049 - Downgrade/Eliminate NetApp OnTap 9 Warnings</span></strong><br/><strong><span>-              SAFS-14757 Improve DFS error messages and diagnostic logging; only enumerate domain namespaces on domain controllers</span></strong><br/><strong><span>-              SAFS-14719 23412 - FSAA collection error: (0x80004005): SQL logic error or missing database no such table: TBL_FSAA_Sequence</span></strong><br/><strong><span>-              SAFS-14767 23670 - Connect to SQL server before connection profile impersonation</span></strong><br/><strong><span>-              SAFS-14748 23546 - Retry timeout exceeded</span></strong><br/><strong><span>-              SAFS-14616  20970 - The INSERT statement conflicted with the FOREIGN KEY constraint "FK_SA_FSAC_ActivityEvents_New_PathID" (8.1+ Implementation).</span></strong><br/><strong><span>-              SAFS-14656  23094 - Strip trailing spaces from shares' landing folders</span></strong><br/><strong><span>-              SAFS-2957 21750 - FSAA | Skip IPC$ check in applet mode</span></strong><br/><strong><span>-              SAFS-14607  22956/23113 - Waiting for Parser Queue to be Empty</span></strong><br/><strong><span>-              SAFS-14809 Automatic procdump functionality in FSAA applet can cause access violations after scan completes</span></strong><br/><strong><span>-              SAFS-14597 Add RPC_IF_ALLOW_CALLBACKS_WITH_NO_AUTH and auth callback even if not using secure RPC to permit working with RestrictRemoteClients=1</span></strong><br/><strong><span>-              SAFS-14792 Fix 'Object Reference Not Set To Instance of an Object' Error in FSAC scans</span></strong><br/><strong><span>-              SAFS-14803  FSAC: Add option of maximum days of activity to scan at once</span></strong><br/><strong><span>-              SAFS-14848 TxtForAllFiles option not being passed correctly to SDD (8.1)</span></strong><br/><strong><span>-              SAFS-14800 23738 - SDD Scoping to folders</span></strong><br/><strong><span>-              SAFS-14841  License file should not be directly copied to remote hosts</span></strong><br/><strong><span>-              SAFS-2692 19369/19531 - FSAA | Shares Marked as Deleted When Access to Enumerate Shares is Revoked</span></strong><br/><strong><span>-              SAFS-14824 20963 - FSAA Failed to Copy Tier 2: Prop db was being compressed during non-permission scans</span></strong><br/> <br/> <br/><b>Comments:</b><br/><strong><span><span>THIS HOTFIX REQUIRES AT LEAST HOTFIX SDD_8.1_002 TO BE INSTALLED IF USING SDD.</span></span></strong><br/><a href="https://na55.salesforce.com/articles/General/Hotfix-SDD-8-1-002" target="_blank"><strong><span><span>https://na55.salesforce.com/articles/General/Hotfix-SDD-8-1-002</span></span></strong></a><p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> </p><ol><li>Unblock the hotfix zip file in the windows property dialog, if an unblock button exists there. 
</li><li>Close all instances of StealthAUDIT (check task manager under processes for all users)
</li><li>
<strong><span>Update all DC files in your %SAInstallDir%DC folder</span></strong>
</li><li>
<strong><span>Update all PrivateAssemblies in your %SAInstallDir%PrivateAssemblies folder.</span></strong>
</li><li><strong><span>Launch StealthAUDIT. Run the 'Update Proxy Service' query under the Maintenance tab in the FSAA data collector against your proxy servers (if running proxy service).</span></strong></li></ol>
<div>  
<div class="table-wrap"><table count-columns="1" cellspacing="0" cellpadding="0" width="64" border="0"><tbody><tr height="38"><td colspan="1" rowspan="1" height="38" width="64"><a href="https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_027.zip" target="_blank">https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_027.zip</a></td></tr></tbody></table></div>
</div><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 8.1<br/><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SAFS-2692<br/><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> -	DCFSAA.dll						8.1.920
-	FSAASrv.dll						8.1.920
-	Stealthbits.StealthAUDIT.DataCollectors.FSAA.dll	8.1.920

Other dependencies included:
-	StealthAUDITRPC.exe				8.1.101
-	StealthAUDITRPCClient.dll				8.1.101
-	Stealthbits.StealthAUDIT.DataCollectors.dll		8.1.58
-	FSAAConfig.xml<br/><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 1882<br/></p></div>
</article></body></html>