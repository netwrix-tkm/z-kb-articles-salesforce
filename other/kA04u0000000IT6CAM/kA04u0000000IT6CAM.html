<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>FSAA/SDD Log Cleanup Job</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000IT6CAM"/><meta name="Id" content="ka04u000000HcnwAAC"/><meta name="LastPublishedDate" content="2022-02-01T18:34:14.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:07:17.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:34:14.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7208"/><meta name="ArticleNumber" content="000007208"/><meta name="description" content="360008408371"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> StealthAUDIT system scans for FSAA and Sensitive Data job configurations allow for some log control, but not all.</p>
<p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> Customers often complain about disk usage of StealthAUDIT after FS scans have been running over time.  While the job configuration allows for cleaning up RPC/applet logs greater than <em>n</em> runs, there are several logs that do not respect this rule.</p>
<p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> https://downloads.stealthbits.com/access/files/StealthTOOLS/AUDIT/LogMaintenance.zip<br/><br/>Step 1: Verify that the built in log cleanup is enabled:<br/><img src="kA04u0000000IT6CAM_fe6b23b4-c588-42e4-a17c-ee64e9fed667.png" alt="mceclip0.png"/><br/>This can be located in the system scan configurations for both FSAA and SEEK scans.  While it is possible for the attached job to supersede this setting, it should still be best practice for customers concerned about disk space to enable it.  It is also worth mentioning the potential to set the applet log level (dropdown immediately above highlighted setting) from its default to a lower level such as 'Warning'.  This is not controlled by the SA global settings, and must be set here.<br/> <br/>Step 2: Place downloaded Job group in the desired location.  Anywhere in the job tree is ok, although the File System group may be the most logical choice.  Ensure 'Local Host' is the selected host option.<br/> <br/>Step 3: Configure Path.  The File DC does not access Environment Variables, so the %SAINSTALLDIR% is unfortunately not usable here.  You have likely already discovered the install location when importing the jobs, however you can quickly paste <em>%SAINSTALLDIR%FSAA </em>into windows file explorer to resolve it, then copy and paste the literal path into the query config of job "1-LogCleanup":<br/><img src="kA04u0000000IT6CAM_e7e39fc1-6a02-40e1-a9bd-1599727fda6d.png" alt="mceclip1.png"/><br/><br/> <br/>Step 4: Determine how many days of logs to keep.  This can be set as a variable in the analysis for "1-LogCleanup".  Discuss value of keeping logs vs disk usage requirements with customer to determine appropriate value.  Be sure to consider how often a scans are performed.  (Keeping 7 days of logs for a quarterly SDD scan that takes 9 days for example may not be the best idea.)  Setting to zero will erase ALL logs.<br/><img src="kA04u0000000IT6CAM_1df80a1d-522a-4baf-9819-fe639214dd70.png" alt="mceclip2.png"/><br/> <br/>Step 5: Run job.  The job uses PowerShell to delete the files, so it should work in a customer environment whether they have the  File Action module purchased or not.  If customer wishes to see what files will be deleted before actually executing, run only the "1-LogCleanup" job (not the whole group) and observe the DEFAULT table in job results.  The "2-DeleteFiles" will perform the execution.<br/> </p>
<p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br/><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - DC - FSAA - Activity;SA - DC - FSAA - DFS;SA - DC - FSAA - Permissions<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 8.1+<br/><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SAFS-15419<br/><strong><span class="wysiwyg-font-size-large">Legacy Article ID:</span></strong> 2121</p></div>
</article></body></html>