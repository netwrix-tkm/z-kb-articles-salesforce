<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>Hotfix: SA_8.1_108</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000IX1CAM"/><meta name="Id" content="ka04u000000HcpXAAS"/><meta name="LastPublishedDate" content="2022-02-01T18:24:32.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:08:03.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:24:32.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="6680"/><meta name="ArticleNumber" content="000006680"/><meta name="description" content="360012217852"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> This is a backport to 8.1 for 8.2 enhancements to the SQL DC.  Multiple fixes and enhancements are included.  Customers are strongly encouraged to replace their 0.Collection group when applying this hotfix.</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <br/><strong><span>Summary:</span></strong><br/>This is a backport to 8.1 for 8.2 enhancements to the SQL DC.  Multiple fixes and enhancements are included.  Customers are strongly encouraged to replace their 0.Collection group when applying this hotfix.<br/> <br/><b>Changes Since Last Hotfix:</b><br/><i>Many enhancements for SQL DC in this backport hotfix, like a refactored SQL DC and SQL DC UI.  This hotfix includes enhancements to Instance discovery, permissions collection, filtering, and SDD collection for SQLServer environments.</i><br/> <br/><strong><span>Submitted by: </span></strong><br/>Rob Evert<br/> <br/><strong><span>Affected Versions:</span></strong><br/>8.1<br/> <br/><strong><span>Affected Module:</span></strong><br/>SA - DC - SQL<br/> <br/><strong><span>Dev Ticket:</span></strong><br/>SAT-4487  Backport 8.2 SQL DC to 8.1 - work done on this one for the following tickets:<br/>SAT-4462  29057 - SQL solution set reports - have old data<br/>SAT-4495  29857 - File not found error during SQL SEEK<br/> <br/><strong><span>Resolved in Version:</span></strong><br/>DCSQL.DLL  8.1.301<br/> <br/><strong><span>KB Type: </span></strong><br/>Hotfix<br/> <br/><strong><span>Issue:</span></strong><br/>This backport hotfix is intended to alleviate issues with the instance table containing duplicates when using an old version of instance discovery.  After the initial upgrade and check, the user should not be able to create this condition again.<br/>This hotfix is also intended to resolve issues with stale data in the DomainUserPermissions report, and adds performance enhancements to data collection.<br/> <br/><strong><span>Modules Included:</span></strong><br/>DC\DCSQL.dll  8.1.301<br/>PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.dll  8.1.301<br/>PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.dll  8.1.301<br/>PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.SQLServer.dll  8.1.301<br/>PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.SQLServer.dll  8.1.301<br/>PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.Common.dll  8.1.301<br/>PrivateAssemblies\Dapper.FluentMap.dll  8.1.301<br/>PrivateAssemblies\Ninject.dll  8.1.301<br/>SP\SQLScripts\ProcessingSqlInstancesTable.sql<br/>Jobs\GROUP_SQL\GROUP_0.Collection\*<br/> <br/> <br/><b>YouTrack/Escalations</b><br/>SAT-4462  29057<br/>SAT-4495  29857<br/> <br/><b>Customers</b><br/>Southern Communications<br/>Fay Servicing<br/> <br/><b>Cumulative List of fixes included since Service Pack:</b><br/>- SAT-3364  Fix for case sensitive Server Collation<br/>- SAT-3406  Remove query error from Instance removal utility<br/>- SAT-3311  Databases with locale id other than '1033' cause error<br/>- SAT-2905  SQL DC: Impersonation Issues<br/>- SAT-2779  Permissions / SDD will not work if the instance contains an offline db<br/>- SAT-2619  SQL SDD: UAC for File Operations causes scan failure<br/>- SAT-3143  SQL DC Uses Connection account to connect to SMP database<br/>- SAT-3532  SQL DC Custom queries not correctly handling columns names with spaces<br/>- SAT-3876  Sensitive Data and Permissions jobs blocking other SPIDs<br/> </p><p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> 1.  Unblock the hotfix zip file in the windows property dialog, if an unblock button exists there.<br/>2.  Close all instances of StealthAUDIT.<br/>3.  Update the files in the StealthAUDIT\SP StealthAUDIT\PrivateAssemblies and StealthAUDIT\DC directory.<br/>4.  Remove the contents of the StealthAUDIT\Jobs\GROUP_SQL\GROUP_0.Collection and replace with the contents of the GROUP_0.Collection folder of the hotfix.<br/>5.  Open the properties of the StealthAUDIT\Jobs\GROUP_SQL\GROUP_0.Collection folder and <b>unset</b> read-only to the contents of the folder, subfolders and files.<br/>6.  Open StealthAUDIT, refresh the SQL job tree and run the 0.Collection <span>�</span> 0-InstanceDiscovery<br/>7.  Check the [SA_SQL_Instances] table and remove any duplicate rows found.<br/><br/>  
</p><div class="table-wrap"><table count-columns="1" cellspacing="0" cellpadding="0" width="64" border="0"><tbody><tr height="58"><td colspan="1" rowspan="1" height="58" width="64"><a href="https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_108.zip" target="_blank">https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_108.zip</a></td></tr></tbody></table></div><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br/><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - DC - SQL<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 8.1<br/><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SAT-4487
SAT-4462
SAT-4495<br/><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> DCSQL.DLL  8.1.301<br/><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 2173<br/></p></div>
</article></body></html>