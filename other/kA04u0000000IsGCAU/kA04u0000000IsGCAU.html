<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>Hotfix: SA_9.0_036</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000IsGCAU"/><meta name="Id" content="ka04u000000HcxWAAS"/><meta name="LastPublishedDate" content="2022-02-01T18:50:28.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:12:10.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:50:28.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7752"/><meta name="ArticleNumber" content="000007752"/><meta name="description" content="360012217872"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> Audit log collection was not working in cases that multiple SQL Server instances had audits with the same name, the same path, and the same audit GUID.</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <span><span><span><strong><span>Summary: </span></strong> Audit log collection was not working in cases that multiple SQL Server instances had audits with the same name, the same path, and the same audit GUID.</span></span></span><br/><span><span><span><strong><span>Before Fix: Audit log collection finishes without error.  Only audit per audit GUID is collected.</span></strong></span></span></span><br/><span><span><span><strong><span>After fix: All audits with the same GUIDS are collected by the DC.</span></strong></span></span></span><br/><br/><span><span><span><b>Changes Since Last Service Pack</b></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6990  Fix for SQL role members job when multiple role members have the same well known SID</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6096  Fix to Allow the validation of customer queries that return no results </span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6880  Fix to allow larger commandtimeout values in SDD scans</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6585  duplicate data in SQL database principals report</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6467  SQL Role membership report should expand AD Group membership to show effective group members</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6385  SQL Instance discovery does not detect dynamic port assignments</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6318  SQL solution set: Control Share Permissions has thousands of entries</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6309 SQL solution set collection job failing with "invalid column name 'is_Fixed_Role'"</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6349 Slow SQL Effective Access scans not scalable for large environments</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6346  SQL Permission jobs not checking for 'Grant with Grant Option'</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6391  Domain User appearing as Grantee Type SERVER_ROLE on the SQLServer_ControlServer_Details report</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6388  Members of Server Roles are not Appearing in Permissions Reports</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>SAT-6266  Improve the performance of the Oracle - 5.Permissions - Oracle_DomainUserPermissions job</span></span></span></span></span><br/><br/><span><span><span><strong><span>Submitted by: </span></strong></span></span></span><br/><span><span><span><span><span class="MsoSubtleEmphasis"><span>Rob Evert</span></span></span></span></span></span><br/><br/><span><span><span><strong><span>Affected Versions:</span></strong></span></span></span><br/><span><span><span> 9.0</span></span></span><br/><br/><span><span><span><strong><span>Affected Module:</span></strong></span></span></span><br/><span><span><span>SA - SQL - DC</span></span></span><br/><br/><span><span><span><strong><span>Dev Ticket:</span></strong></span></span></span><br/><span><span><span><span>SMPDB-58 39500 - SQLDC - Audit Log Location</span></span></span></span><br/><span><span><span><strong><span>Resolved in Version:</span></strong></span></span></span><br/><span><span><span>DCSQL.dll  9.0.135</span></span></span><br/><span><span><span><strong><span>KB Type: </span></strong></span></span></span><br/><span><span><span class="MsoSubtleEmphasis"><span>                Hotfix</span></span></span></span><br/><span><span><strong><span>Files:</span></strong></span></span><br/><br/><span><span>\Licensed for both SQL and Oracle</span></span><br/><span><span> \DC\DCSQL.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.SQLServer.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.SQLServer.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.Oracle.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.Oracle.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.Common.dll  9.0.135</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_0.Collection\JOB_0-SQL_InstanceDiscovery\JOB_SQL_InstanceDiscovery.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_1.Users and Roles\JOB_SQL_RoleMembers\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_1.Users and Roles\JOB_SQL_DatabasePrincipals\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_ControlServer\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_DirectPermissions\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_DomainUserPermissions\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_PublicPermissions\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_ServerPermissions\DataAnalysisTasks.XML</span></span><br/><br/><span><span>\Licensed for SQL only</span></span><br/><span><span> \DC\DCSQL.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.SQLServer.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.SQLServer.dll  9.0.135</span></span><br/><span><span> \PrivateAssemblies\Stealthbits.StealthAUDIT.DataCollectors.SQL.Common.dll  9.0.135</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_0.Collection\JOB_0-SQL_InstanceDiscovery\JOB_SQL_InstanceDiscovery.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_1.Users and Roles\JOB_SQL_RoleMembers\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_1.Users and Roles\JOB_SQL_DatabasePrincipals\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_ControlServer\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_DirectPermissions\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_DomainUserPermissions\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_PublicPermissions\DataAnalysisTasks.XML</span></span><br/><span><span> \jobs\GROUP_SQL\GROUP_3.Permissions\JOB_SQL_ServerPermissions\DataAnalysisTasks.XML</span></span><br/><br/><span><span><strong><span>Prior Hotfixes</span></strong></span></span><br/><br/><span><span><strong><span>SA_9.0_034</span></strong></span></span><br/><span><span><strong><span>   - Fix for SQL role members job when multiple role members have the same well known SID</span></strong></span></span><br/><span><span><strong><span>SA_9.0_032</span></strong></span></span><br/><span><span><strong><span>  - Fix to Custom Queries to allow them to be validated when the query returns no results</span></strong></span></span><br/><span><span><strong><span>SA_9.0_031</span></strong></span></span><br/><span><span><strong><span>   - Fix to properly use the  setting in the SDD job XML.  Includes fix for timeouts when scanning large rows in views.</span></strong></span></span><br/><span><span><strong><span> SA_9.0_019</span></strong></span></span><br/><span><span><strong><span>   - Added a database column to the DatabasePrincipals_Details report</span></strong></span></span><br/><span><span><strong><span> SA_9.0_015</span></strong></span></span><br/><span><span><strong><span>   - Additional fixes for Control Share permissions report where some database CONTROL permissions were being reported as CONTROL SERVER permissions</span></strong></span></span><br/><span><span><strong><span>   - SQL Role Membership report now expands AD group membership to be more complete</span></strong></span></span><br/><span><span><strong><span>   - Instance discovery now collects dynamic port assignments</span></strong></span></span><br/><span><span><strong><span> SA_9.0_010</span></strong></span></span><br/><span><span><strong><span>  - Fix for invalid column name error when scanning SQL 2008 with permission scans</span></strong></span></span><br/><span><span><strong><span> SA_9.0_004</span></strong></span></span><br/><span><span><strong><span>  - Fix for a bad join causing duplicates in effective access computation</span></strong></span></span><br/><span><span><strong><span>  - Performance enhancements for the domain user enhancement job</span></strong></span></span><br/><span><span><strong><span>  - Fix for grant with grant option permissions collection</span></strong></span></span><br/><span><span><strong><span>  - Fix for server role membership effective access calculations</span></strong></span></span><br/><span><span><strong><span>  - Fix for grantee type being inaccurate on some reports</span></strong></span></span><br/><br/><span><span><strong><span>YouTrack/Escalations</span></strong></span></span><br/>  
</p><ul><li class="MsoNoSpacing"><span><span><strong><span>SMPDB-58/39500</span></strong></span></span></li></ul><br/><span><span><strong><span>Customers</span></strong></span></span><br/><span><span><strong>                </strong></span></span>
<ul><li class="MsoNoSpacing"><span><span><strong><span>Advisor360</span></strong></span></span></li></ul><br/><span><span><span><strong><span>Instructions:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>**This hotfix has a prerequisite of SA_9.0_018**</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>**This hotfix uses the Solution Set numbering from SMP build 9.0.0.94 and newer.  If using an older version of the solution set, you will have to copy the solution set files to the renumbered folder manually**</span></span></span></span></span><br/><span><span><span>1. Unblock the hotfix zip file in the windows property dialog if an unblock button exists there.</span></span></span><br/><span><span><span>2. Check the customer's licensed features (help --&gt; about) and determine if the customer is licensed for SQL or Oracle and SQL.</span></span></span><br/><span><span><span>3. Close all instances of StealthAUDIT (check task manager under processes for all users)</span></span></span><br/><span><span><span>4. Copy and replace files from correct folder, depending on the licensing, to the corresponding folders in SA Install dir.</span></span></span><br/> <p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> <span><span><span><strong><span>Instructions:</span></strong></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>**This hotfix has a prerequisite of SA_9.0_018**</span></span></span></span></span><br/><span><span><span><span class="MsoSubtleEmphasis"><span>**This hotfix uses the Solution Set numbering from SMP build 9.0.0.94 and newer.  If using an older version of the solution set, you will have to copy the solution set files to the renumbered folder manually**</span></span></span></span></span><br/><span><span><span>1. Unblock the hotfix zip file in the windows property dialog if an unblock button exists there.</span></span></span><br/><span><span><span>2. Check the customer's licensed features (help --&gt; about) and determine if the customer is licensed for SQL or Oracle and SQL.</span></span></span><br/><span><span><span>3. Close all instances of StealthAUDIT (check task manager under processes for all users)</span></span></span><br/><span><span><span>4. Copy and replace files from correct folder, depending on the licensing, to the corresponding folders in SA Install dir.</span></span></span><br/><br/><a href="https://downloads.stealthbits.com/access/files/SAHotFixes/9.0/SA_9.0_036.zip" target="_blank">https://downloads.stealthbits.com/access/files/SAHotFixes/9.0/SA_9.0_036.zip</a></p><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br/><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - DC - SQL<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 9.0<br/><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SMPDB-58 39500 - SQLDC - Audit Log Location<br/><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> DCSQL.dll  9.0.135<br/><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 2570<br/></p></div>
</article></body></html>