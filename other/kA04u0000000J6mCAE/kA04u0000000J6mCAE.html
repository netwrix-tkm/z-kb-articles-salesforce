<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>Hotfix: SA_7.2_SP1_069</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000J6mCAE"/><meta name="Id" content="ka04u000000Hd2vAAC"/><meta name="LastPublishedDate" content="2022-02-01T18:53:36.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:14:29.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:53:36.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7956"/><meta name="ArticleNumber" content="000007956"/><meta name="description" content="360012217812"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> AD Computer Clean Up Duplicates</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <strong><span>Issue:</span></strong><br/>the deprovisionComputers job is picking up stale computers that have already been moved to the staleComputers staging OU. since they have the action to actually delete these computers disabled, and they're just "quarantining" them, the move action is repeatedly moving them from and to the same OU.<br/> <br/>1) this is creating duplicate entries in the _ToBeDeleted table. we should automatically filter out objects that have already been moved from the details (to be moved) table<br/>have a look at the attached screen shot for details<br/> <br/><strike>2) I don't think using the results of the move action is the correct way to deteremine what should be removed from the stale computers OU when it's time to run the delete action.</strike><br/> <br/><strike>a couple examples of why this could be problematic are </strike><br/><strike>a) if a customer already has a disabled computers OU they would like to use and never used our software to move them there </strike><br/><strike>b) an upgrade or database failure has wiped the results of the move operation, etc.</strike><br/> <br/><strike>I think we should use a query scoped to that specific OU instead. that way we're not relying on the move history.</strike><br/> <br/>3) the column name [Previous OU] doesn't make sense in the DeprovisionComputers_ToBeDeleted table. I'm pretty sure it should be [New OU].<br/> <br/>4) using effective membership to remove group membership is incorrect, it should be direct membership. trying to remove user a from group a when they're only a member of group b, which is a member of group a will throw is incorrect and will throw errors.<br/> <br/> </p><p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> 1.            Close all instances of StealthAUDIT.<br/>2.            GROUP_Active Directory/GROUP_Cleanup/GROUP_3.Computers/JOB_AD_DeprovisionComputers/DataAnalysisTasks.XML<br/>3.            GROUP_Active Directory/GROUP_Cleanup/GROUP_2.Users/JOB_AD_DeprovisionUsers/DataAnalysisTasks.XML<br/><br/>  
</p><div class="table-wrap"><table count-columns="1" cellspacing="0" cellpadding="0" width="64" border="0"><tbody><tr height="20"><td colspan="1" rowspan="1" height="20" width="64"><a href="https://downloads.stealthbits.com/access/files/SAHotFixes/7.2/SA_7.2_SP1_069.zip" target="_blank">https://downloads.stealthbits.com/access/files/SAHotFixes/7.2/SA_7.2_SP1_069.zip</a></td></tr></tbody></table></div><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br/><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - Solution Set - Active Directory<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 7.2 SP1<br/><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SAT-1438<br/><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> GROUP_Active Directory/GROUP_Cleanup/GROUP_3.Computers/JOB_AD_DeprovisionComputers/DataAnalysisTasks.XML
GROUP_Active Directory/GROUP_Cleanup/GROUP_2.Users/JOB_AD_DeprovisionUsers/DataAnalysisTasks.XML<br/><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 1761<br/></p></div>
</article></body></html>