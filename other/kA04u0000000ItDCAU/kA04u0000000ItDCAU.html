<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>How to find text in StealthAUDIT job XML files with PowerShell</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000ItDCAU"/><meta name="Id" content="ka04u000000HcxpAAC"/><meta name="LastPublishedDate" content="2022-02-01T18:40:33.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:12:20.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:40:33.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7303"/><meta name="ArticleNumber" content="000007303"/><meta name="description" content="360008408371"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> Using PowerShell get-childitem and Select-String to search through files for a string in job XML files</p>
<p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> You need to find which job XML file contains a certain parameter or setting.</p>
<p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> <strong>:</strong>  To find specific text (your parameter name, setting info, etc) in the job XML files for StealthAUDIT, use the example commands below on the StealthAUDIT Application server.  (In this example, the string being searched for is <em><a href="mailto:test@no.com" target="_blank">test@no.com</a></em>, but adjust to search for your desired criteria).  This can be run regardless of which directory you are in.  (You do not need to be in the jobs directory.)<br/> <br/><span>gci "$env:sainstalldir\Jobs\*" -include "JOB_*.xml", "job.change", DataAnalysisTasks.XML, DataAnalysisTasks.change, ActionsTasks.XML, Actions.Change -Recurse | select-string -pattern "<a href="mailto:test@no.com" target="_blank">test@no.com</a>" | select Path, Line | fl *  </span><br/>  <br/><u>Further explanation of what this string of commands does</u><br/>(You can ignore this section if you are already well-versed in PowerShell commands.)   This is four different commands, with each of the first three piping (sending) their output to the next command.  The pipe character | separates each of the commands. <br/><strong>gci "$env:sainstalldir\Jobs\*" -include "JOB_*.xml", "job.change", DataAnalysisTasks.XML, DataAnalysisTasks.change, ActionsTasks.XML, Actions.Change -Recurse</strong><br/>This portion get the child object of items in the the jobs folder of the SA install directory.   The -include portion specifies all the qualifiers for the path already given ("$env:sainstalldir\Jobs\*"), meaning that only portions that have the names given will be included in the output.  The -recurse parameter indicates the search should repeat inside subfolders found.</p>
<p>Here is an example of a piece of the output from just this portion of the command:<br/><img src="kA04u0000000ItDCAU_c593dc84-5049-490a-abe3-474bcb3d70bb.png" alt="mceclip0.png"/><br/>  <br/><strong>select-string -pattern "<a href="mailto:test@no.com" target="_blank">test@no.com</a>" </strong><br/>The portion finds the text you are searching for (in this case "<a href="mailto:test@no.com" target="_blank">test@no.com</a>") in the prior command's output.  It will only display items that contain that text.  When it finds that text, it will display information about the path, line number, etc where the text was found.<br/>Here is an example of what the output of this command (run after the prior one) returns:<br/><img src="kA04u0000000ItDCAU_c7781dc2-886e-4017-ac19-75832b2fce5a.png" alt="mceclip1.png"/><br/>Note that this is not especially easy to read, hence the next two commands.<br/>  <br/><strong>Select Path, Line</strong><br/>This portion specifies to only display the Path and Line information from object(s) returned by the prior select-string output.  (Select is the alias for the actual command Select-Object.)  There is no visible output from this command, you need the next command for that.<br/> <br/><strong>fl *</strong><br/>This command is the short/alias version of the Format-List command, which is designed to display information in a table that is easier for humans to read.  You can select just individual properties passed to it, or just display them all with the * wildcard character.   Here is an example of the output of this command + all the prior commands discussed:<br/><img src="kA04u0000000ItDCAU_947602be-c18a-4222-830a-00d00fc5b910.png" alt="mceclip2.png"/><br/> <br/>When the final output is reached you have the path to the file(s) where the text we originally searched for was found (in the DataAnalysisTasks.xml file).  You also see the line the text was found on, although it is slightly formatted to account for special characters.  Here's what the actual (viewed in internet explorer) version of the example file looks like on that line and a few surrounding it:<br/><img src="kA04u0000000ItDCAU_79a24f37-2d58-4423-8808-85f7eedcd345.png" alt="mceclip3.png"/></p>
<p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br/><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - Core<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 7.0+<br/><strong><span class="wysiwyg-font-size-large">Legacy Article ID:</span></strong> 2281</p></div>
</article></body></html>