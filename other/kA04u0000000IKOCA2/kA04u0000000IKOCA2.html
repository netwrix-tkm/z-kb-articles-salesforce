<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hotfix: SA_8.1_048</title>
    <meta name="label" content="employees_v" />
    <meta name="label" content="skb" />
    <meta name="KnowledgeArticleId" content="kA04u0000000IKOCA2" />
    <meta name="Id" content="ka04u000000HckbAAC" />
    <meta name="LastPublishedDate" content="2022-02-01T18:53:48.000+0000" />
    <meta name="LastModifiedDate" content="2023-05-08T10:05:36.000+0000" />
    <meta name="FirstPublishedDate" content="2022-02-01T18:53:48.000+0000" />
    <meta name="Language" content="en_US" />
    <meta name="UrlName" content="7969" />
    <meta name="ArticleNumber" content="000007969" />
    <meta name="description" content="360012217852" />
  </head>
  <body>
    <article class="kb-articles">
      <div class="Content__c">
        <p>
          <strong><span class="wysiwyg-font-size-large">Summary:</span></strong> NFS Activity is
          collected in SFAM but can't be imported
        </p>
        <p>
          <strong><span class="wysiwyg-font-size-large">Issue:</span></strong>
          <strong
            ><span>Summary: NFS Activity is collected in SFAM but can't be imported</span></strong
          ><br /><br /><strong
            ><span
              >Before Fix: FSAA was treating resources in NFS Activity Events as Windows Resources
              (ResourceType 3 or 4).</span
            ></strong
          ><br /><br /><strong><span>After Fix: </span></strong>Added a new option in Job XML called
          NFSACTIVITYASUNIXRESOURCES, which if set to true will treat resources in NFS activity
          events as Unix Resources (ResourceType 5 or 6).
          <span>See Additional Comments section for more details.</span><br /> <br /><strong
            ><span>Customers</span></strong
          >
        </p>
        <ul>
          <li>
            <strong><span>Mizuho Securities USA, Inc.</span></strong>
          </li>
        </ul>
         <br /><strong><span>Cumulative List of fixes included since Service Pack:</span></strong
        ><br />-              SAFS-14545 SDD Bulk Import clearing tier 1 data prior to checking if
        DLPEX db exists<br />-              SAFS-14541 Remove Description in FSAAConfig.xml<br />-             
        SAFS-14548 FSAC Bulk Import performance issue<br />-              SAFS-2705 15281 - FSAA
        unspecified error<br />-              SAFS-14573 22741 - FSAA Migration Query 7.2 to 8.0
        Duplicate Column Error<br />-              SAFS-14598 22741 - FSAA Migration Query 7.2 to
        8.0 could not convert variant of type (Null) into type (Integer)<br />-             
        SAFS-14593 Update bulk import to not delete Activity and DLPEX tier 2 dbs.<br />-             
        SAFS-2707 19757 - FSAC Bulk Import Rollback Due to Unspecified Error<br />-             
        SAFS-14595 22840 - There is an error in XML document (0, 0). ---&gt;
        System.OverflowException: Value was either too large or too small for an Int32.<br /><strong
          ><span
            >-              SAFS-14633 Update FSAA to not delete DLPEX db when streaming</span
          ></strong
        ><br /><strong
          ><span>-              SAFS-14566 Update FSAA to pass parameters to SDD</span></strong
        ><br /><strong><span>-              SAFS-14672 FSAC Access Violation on scans</span></strong
        ><br /><strong
          ><span
            >-              SAFS-14685 Access violation when cancelling streaming FSAA scan due to
            timeout or DC-side streaming error</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14596 22751 - Access Violation with FSAA Scan v8.1</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14483 22116 - Do Not Delete Activity Data Automatically (8.1+
            Implementation)</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14723 NFS Scans Don't Scan Subfolders when "Limit Subfolder Depth"
            is checked</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14720 23415 - DFS Collection: FSAA.FSAAException: Unable to
            determine domain: 5</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14670 23199 - FSAA doesn't throw error when service account doesn't
            have enough permission to scan shares.</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14688 Applet log level of "None" sends all log messages to
            StealthAUDITRPC.exe trace log file</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14677 22992/22994 - FSAA automatically clean up old files.</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-2771 20689 - Error during storing DailyActivity: '' is not a valid
            integer value</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14735 rename streaming database to include scan type</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14738 Error when scanning with System default profile.</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-2173 14049 - Downgrade/Eliminate NetApp OnTap 9 Warnings</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14757 Improve DFS error messages and diagnostic logging; only
            enumerate domain namespaces on domain controllers</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14719 23412 - FSAA collection error: (0x80004005): SQL logic error
            or missing database no such table: TBL_FSAA_Sequence</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14767 23670 - Connect to SQL server before connection profile
            impersonation</span
          ></strong
        ><br /><strong><span>-              SAFS-14748 23546 - Retry timeout exceeded</span></strong
        ><br /><strong
          ><span
            >-              SAFS-14616 20970 - The INSERT statement conflicted with the FOREIGN KEY
            constraint "FK_SA_FSAC_ActivityEvents_New_PathID" (8.1+ Implementation).</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14656 23094 - Strip trailing spaces from shares' landing
            folders</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-2957 21750 - FSAA | Skip IPC$ check in applet mode</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14607 22956/23113 - Waiting for Parser Queue to be Empty</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14809 Automatic procdump functionality in FSAA applet can cause
            access violations after scan completes</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14597 Add RPC_IF_ALLOW_CALLBACKS_WITH_NO_AUTH and auth callback
            even if not using secure RPC to permit working with RestrictRemoteClients=1</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14792 Fix 'Object Reference Not Set To Instance of an Object' Error
            in FSAC scans</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14803 FSAC: Add option of maximum days of activity to scan at
            once</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14848 TxtForAllFiles option not being passed correctly to SDD
            (8.1)</span
          ></strong
        ><br /><strong><span>-              SAFS-14800 23738 - SDD Scoping to folders</span></strong
        ><br /><strong
          ><span
            >-              SAFS-14841 License file should not be directly copied to remote
            hosts</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-2692 19369/19531 - FSAA | Shares Marked as Deleted When Access to
            Enumerate Shares is Revoked</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14824 20963 - FSAA Failed to Copy Tier 2: Prop db was being
            compressed during non-permission scans</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14921 FSAA scans throws a null reference exception when access is
            denied on the target host</span
          ></strong
        ><br /><strong
          ><span>-              SAFS-14898 FSAC Scans not cycling through proxies</span></strong
        ><br /><strong
          ><span>-              SAFS-14888 24391 - Foreign Key Constraint Violation</span></strong
        ><br /><strong
          ><span
            >-              SAFS-14854 24061 - FSAC scan does not create _suspend.xml properly</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14966 Fix race condition when creating tier 1 schema in FSAA
            DC</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14946 24764 - SEEK streaming doesn't populate gates proxy ID for
            files</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14973 FSAA: "Created" column is missing from Resources table when
            schema is created from DC</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14978 Update FSAA scan and bulk import so that create schema is run
            in the background</span
          ></strong
        ><br /><strong
          ><span>-              SAFS-14943 24731 - Update Proxy Service Query Fails</span></strong
        ><br /><strong
          ><span
            >-              SAFS-14802 23668 - FSAA scan fails for NAS devices with scan set to
            applet mode</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-2883 21474/23308 - Sensitive Data Scan clearing SDD data when
            changing criteria/SDD Scope Overlap &amp; Save Previous Scan Results</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14680 FSAA Streaming: Deleting share between streams causes an
            error.</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14791 Change FSAA/FSAC to create SQLite temporary files in FSAA
            folder</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14984 24911 - FSAC | SQLite Locking during bulk import</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14964 24790 - FSAA | SQLite Locking during bulk import</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14485 18434: FSAC Support milliseconds in event timestamps</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14961 Duplicate Gates are Created When T2s are Deleted and Shares
            Removed</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-15033 25120 - Scan aborting on failed login error</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-15002 25062 - FS | Unique Key Constraint Violation during StrucMap
            rebuild</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-15022 25144 - Canceling a streaming scan before the target host has
            been successfully imported results in the inability scan or import that host</span
          ></strong
        ><br /> <br /><strong><span>Changes since last Hotfix</span></strong
        ><br /><strong
          ><span
            >-              SAFS-14994 NFS Resources have null GatesProxyIDs when scanning for both
            CIFS/NFS</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14988 Streaming: OwnerID and RightsProxyID values are null when
            streaming NFS resources</span
          ></strong
        ><br /><strong
          ><span
            >-              SAFS-14681 23320 - FSAC Import | NFS Activity is collected in SFAM but
            can't be imported</span
          ></strong
        ><br /> <br /><b>Comments:</b><br /><strong
          ><span
            ><span
              >THIS HOTFIX REQUIRES AT LEAST HOTFIX SDD_8.1_002 TO BE INSTALLED IF USING SDD.</span
            ></span
          ></strong
        ><br /><a
          href="https://na55.salesforce.com/articles/General/Hotfix-SDD-8-1-002"
          target="_blank"
          >https://na55.salesforce.com/articles/General/Hotfix-SDD-8-1-002</a
        ><br /><br /><b>Additional Comments:</b><br />By default, FSAA will still treat resources
        found in NFS activity events as Windows resources. If you wish to treat these resources as
        Unix, you must go into the Job XML of the FSAC scan job and add the following XML parameter
        under the tag: 1When this parameter is set to true or 1, FSAA will treat resources in NFS
        activity events as Unix resources. <br />NFS activity events are identified in SFAM 2.5 as
        activity events that have the value 'NFS' in the protocol column in the activity log.  In
        SFAM 2.4, NFS activity events are identified as activity events that have a UID associated
        with the event as opposed to a SID.<br /><br /><b
          ><span>THIS FUNCTIONALITY IS NOT SUPPORTED IN SFAM 2.3 AND PRIOR. </span></b
        ><br /><br /><b
          ><span
            >THIS FUNCTIONALITY IS NOT SUPPORTED IN SFAM 2.4 IF USER HAS THE OPTION TO TRANSLATE
            UIDs to SIDs TURNED ON.</span
          ></b
        ><br /><br />Please also note that FSAA still doesn't support NFS SDD scanning yet.<br /> 
        <p>
          <strong><span class="wysiwyg-font-size-large">Instructions:</span></strong>
        </p>
        <ol>
          <li>
            Unblock the hotfix zip file in the windows property dialog, if an unblock button exists
            there. 
          </li>
          <li>
            Close all instances of StealthAUDIT (check task manager under processes for all users)
          </li>
          <li>
            <strong><span>Update all DC files in your %SAInstallDir%DC folder</span></strong>
          </li>
          <li>
            <strong
              ><span
                >Update all PrivateAssemblies in your %SAInstallDir%PrivateAssemblies folder.</span
              ></strong
            >
          </li>
          <li>
            <strong
              ><span
                >Launch StealthAUDIT. Run the 'Update Proxy Service' query under the Maintenance tab
                in the FSAA data collector against your proxy servers (if running proxy
                service).</span
              ></strong
            >
          </li>
        </ol>
        <div>
           
          <div class="table-wrap">
            <table count-columns="1" cellspacing="0" cellpadding="0" width="64" border="0">
              <tbody>
                <tr height="38">
                  <td colspan="1" rowspan="1" height="38" width="64">
                    <a
                      href="https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_048.zip"
                      target="_blank"
                      >https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_048.zip</a
                    >
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <p>
          <strong><span class="wysiwyg-font-size-large">Product:</span></strong>
          StealthAUDIT<br /><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA
          - DC - FSAA - Activity;SA - DC - FSAA - DFS;SA - DC - FSAA - Permissions<br /><strong
            ><span class="wysiwyg-font-size-large">Versions:</span></strong
          >
          8.1<br /><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong>
          SAFS-14681<br /><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong>
          - DCFSAA.dll 8.1.944 - FSAASrv.dll 8.1.944 -
          Stealthbits.StealthAUDIT.DataCollectors.FSAA.dll 8.1.944 Other dependencies included: -
          StealthAUDITRPC.exe 8.1.102 - StealthAUDITRPCClient.dll 8.1.102 -
          Stealthbits.StealthAUDIT.DataCollectors.FSAA.RPCClient.dll 8.1.0 -
          Stealthbits.StealthAUDIT.DataCollectors.dll 8.1.58 - INIFileParser.dll 2.5.2 -
          FSAAConfig.xml<br /><strong
            ><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong
          >
          1942<br />
        </p>
      </div>
    </article>
  </body>
</html>
