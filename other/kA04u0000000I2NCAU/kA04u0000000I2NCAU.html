<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hotfix: SbPAM 3.0 SP3 HF013 (3.0.8116)</title>
    <meta name="label" content="skb" />
    <meta name="label" content="employees_v" />
    <meta name="KnowledgeArticleId" content="kA04u0000000I2NCAU" />
    <meta name="Id" content="ka04u000000HcdYAAS" />
    <meta name="LastPublishedDate" content="2022-02-01T17:59:25.000+0000" />
    <meta name="LastModifiedDate" content="2023-05-08T10:00:23.000+0000" />
    <meta name="FirstPublishedDate" content="2022-02-01T17:59:25.000+0000" />
    <meta name="Language" content="en_US" />
    <meta name="UrlName" content="6123" />
    <meta name="ArticleNumber" content="000006123" />
    <meta name="description" content="360012928611" />
  </head>
  <body>
    <article class="kb-articles">
      <div class="Content__c">
        <h2 id="summary"><strong>Summary:</strong></h2>
        <p>
          Fixes issue found where SbPAM was creating PowerShell exe processes on the SbPAM server
          and not removing them on Windows Server 2016 and Windows Server 2012r2.
        </p>
        <p> </p>
        <p><strong>Work Items/Escalations:</strong></p>
        <ul>
          <li>
            5639 PowerShell processes getting orphaned and consuming CPU/Memory on Windows
            2016/2012r2
          </li>
        </ul>
        <p> </p>
        <p><strong>Submitted by: </strong>Kevin Horvatin</p>
        <p><strong>Affected Versions: </strong>SbPAM 3.0.8112 and earlier</p>
        <p><strong>KB Type: </strong>Hotfix</p>
        <p>
          <strong>Download Link: </strong
          ><a
            href="https://downloads.stealthbits.com/access/files/SbPAMHotfixes/3.0/SbPAM.3.0.8116.zip"
            target="_blank"
            >https://downloads.stealthbits.com/access/files/SbPAMHotfixes/3.0/SbPAM.3.0.8116.zip</a
          >
        </p>
        <p> </p>
        <h2 id="cumulative_list_of_fixes_included_since_service_pack">
          <strong>Cumulative List of fixes included since Service Pack:</strong>
        </h2>
        <p><strong>3.0sp3 Hotfix 012 (Work Items)</strong></p>
        <ul>
          <li>5587 59866 - AD Sync failing to sync</li>
        </ul>
        <p><strong>3.0sp3 Hotfix 011 (Work Items)</strong></p>
        <ul>
          <li>
            5553 Unable to create activity sessions on machines that are not reachable with Remote
            PowerShell
          </li>
          <li>
            5494 Service Account Rotation : Call for generating a new password saves the password
            when generated, which breaks the rotation.
          </li>
          <li>5442 59763 - Can't validate argument on parameter 'ComputerName'</li>
        </ul>
        <p><strong>3.0sp3 Hotfix 010 (Work Items)</strong></p>
        <ul>
          <li>
            5332 ADSync fails with System.OverflowException: Value was either too large or too small
            for an
          </li>
          <li>Int32.</li>
        </ul>
        <p><strong>3.0sp3 Hotfix 009 (Work Items)</strong></p>
        <ul>
          <li>4781 59052 - Some servers activity fails when creating RDP session.</li>
          <li>4941 59240 - MQ Timeout Error</li>
          <li>5002 SSH Password prompt is not clear</li>
        </ul>
        <p><strong>3.0sp3 Hotfix 008 (Work Items)</strong></p>
        <ul>
          <li>4866 SAML login does not work for external login with browser extension.</li>
        </ul>
        <p><strong>3.0sp3 Hotfix 007 (Work Items)</strong></p>
        <ul>
          <li>
            4525 Host scan reports an error for OpenSUSE when we can't locate either yum or apt
            package managers.
          </li>
          <li>4674 SSH Connection fails on initial hostscan</li>
        </ul>
        <p><strong>3.0sp3 Hotfix 006 (Work Items)</strong></p>
        <ul>
          <li>
            4541 Add ticket to activity session 4543 Local Windows service accounts cannot be
            rotated.
          </li>
        </ul>
        <p><strong>3.0sp3 Hotfix 005 (Work Items)</strong></p>
        <ul>
          <li>
            4392 Resource domain service account is getting used instead of group service account
          </li>
        </ul>
        <p><strong>3.0sp3 Hotfix 004 (Work Items)</strong></p>
        <ul>
          <li>
            3092 JWT signing key gets updated on each upgrade requiring services to be re-registered
          </li>
          <li>
            2975 Activity Tokens may fail to create and/or be added to Domain Groups during
            activities that target a root domain and trusted sub-domains.     
          </li>
          <li>
            2896 58272 - Users being left in groups when sessions using the same user/group
            combination are closed simultaneously.     
          </li>
          <li>
            2852 User cannot login if assigned external auth before first login and configure of
            internal MFA
          </li>
          <li>2848 58219 - SbPAM Configuring SIEM will send previous events prior to setup</li>
          <li>
            2712 58037 - SbPAM locking out managed accounts - password rotation issue with multiple
            sessions
          </li>
        </ul>
        <p><strong>3.0sp3 Hotfix 003 (Work Items)</strong></p>
        <ul>
          <li>
            2759 2nd tier approver gets cleared when first tier is approved - Connection Profiles
          </li>
          <li>2773 Linux hostscan fails with ToInt32() error</li>
          <li>2824 Allow authenticators to be used that aren't assigned</li>
          <li>
            2831 58190 - Add to Domain Group fails with I_NetLogonControl failed: Status = 1355
          </li>
        </ul>
        <p><strong>3.0sp3 Hotfix 002 (Work Items)</strong></p>
        <ul>
          <li>2772 Proxy unable to find resource</li>
        </ul>
        <p><strong>3.0sp3 Hotfix 001 (Work Items)</strong></p>
        <ul>
          <li>1548 Domain users are not added as members of local groups during host scan</li>
          <li>2266 Add support for ADFS SAML authentication</li>
          <li>2334 Setting authentication connector fails for Groups</li>
          <li>
            2335 Deleting all default activities causes upgrade to fail from 3.0.60xx to 3.0.8051
          </li>
          <li>
            2353 WebSite activities for domain groups should not require associated resources /
            domain controllers
          </li>
          <li>
            2557 Issues with Host Scan status / Users disappear when scan is running / Resource
            constantly showing as 'Scanning'
          </li>
          <li>
            2633 Linux resource scans should fall back to checking /usr/lib/os-release when
            /etc/os-release is not found.
          </li>
          <li>
            2685 Adding a Linux host manually will fail hostscan 2560 57824 - sbPAM - Resource
            "Scanning" would seem to be stuck
          </li>
        </ul>
        <p> </p>
        <h2 id="instructions"><strong>Instructions:</strong></h2>
        <ul>
          <li>
            Download Zip file to SbPAM Server <em>(</em
            ><em
              ><strong>NOTE: </strong>If running HA configuration, please refer to HA
              instructions)</em
            >.
          </li>
          <li>Extract all files.</li>
          <li>Run Sb_Setup.exe as Administrator.</li>
          <li>
            If upgrading from 3.0sp2 then after setup completes, login to SbPAM Web UI to allow
            services to reregister.
          </li>
        </ul>
        <p> </p>
        <h2 id="configuration_instructions_for_2824">
          <strong>Configuration Instructions for 2824:</strong>
        </h2>
        <p><strong>2824 Allow authenticators to be used that aren't assigned</strong></p>
        <p>
          To change the authenticator behavior to pre-sp3 behavior (any user can authenticate with
          an external authenticator), update the Web
          <strong>C:\Program Files\Stealthbits\PAM\Web\appsettings.json</strong> file
          <em
            >(<strong>NOTE:</strong> This path may vary if you installed to a non-default
            location)</em
          >.
        </p>
        <p>
          Add the following line before the closing } ,
          <strong>"StrictExternalAuth": "False"</strong>
        </p>
        <p>
          For example, if your existing appsettings file looks like this (make sure to add a comma
          if there are other properties):
        </p>
        <pre>{<br/>   "StrictExternalAuth": "False"<br/>}</pre>
        <p><strong>BEFORE</strong></p>
        <pre>{<br/>   "Example": "value"<br/>}</pre>
        <p><strong>AFTER</strong></p>
        <pre>{<br/>   "Example": "value",<br/>   "StrictExternalAuth": "False"<br/>}</pre>
      </div>
    </article>
  </body>
</html>
