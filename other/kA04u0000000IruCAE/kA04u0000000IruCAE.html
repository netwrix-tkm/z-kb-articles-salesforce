<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>Acceptable Values for Dynamic Permission Change Actions in the FS Action Module</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000IruCAE"/><meta name="Id" content="ka04u000000HcxPAAS"/><meta name="LastPublishedDate" content="2022-02-01T18:37:04.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:12:08.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:37:04.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7259"/><meta name="ArticleNumber" content="000007259"/><meta name="description" content="360008408371"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> The Permission change action requires a specific string in order to use the "Dynamic" option when changing permissions in the Action Module. If you don't specify an expected value, an error will be thrown.</p>
<p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <span>The dynamic permission change option isn't used often, and the documentation could be improved. "Invalid rights string 'BadPermission'" will be thrown if an unexpected value is input.</span></p>
<p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> <span><span>In order to use the Dynamic permission change option in the action module, the source table must contain an exact string match that the action module is expecting. The trustee being applied can also be dynamic based on table input, but the action module will attempt to resolve the trustee upon execution.</span></span><br/><br/><span><span>Example:</span></span><br/><span><span>Create a source table containing the requisite columns for any action according to the documentation, as well as columns for the trustee to be granted access, and the level of access the trustee should be granted as the result of the action.</span></span><br/><br/><span><span><span>IF OBJECT_ID('SA_DynAction_SourceTable', 'u') IS NOT NULL</span></span></span><br/><span><span><span>DROP TABLE SA_DynAction_SourceTable</span></span></span><br/><br/><span><span><span>SELECT</span></span></span><br/><span><span><span>      ' HOSTNAME ' as HOST</span></span></span><br/><span><span><span>,     ' HOSTNAME ' as SA_HOST</span></span></span><br/><span><span><span>,     CAST(getdate() as smalldatetime) as JobRunTimeKey</span></span></span><br/><span><span><span>,     '\\HOSTNAME\C$\Apps\StealthAUDIT\Jobs\GROUP_FileSystem\GROUP_0.Collection\GROUP_1-Perms\JOB_1-FSAA System Scans\Output' as [UNC]</span></span></span><br/><span><span><span>,     'SATDOMAIN\Domain Admins' as TrusteeToApply</span></span></span><br/><span><span><span>,     'Full Control' AS PermsToApply</span></span></span><br/><span><span><span>,     '\\ HOSTNAME\C$\Apps\StealthAUDIT\Jobs\GROUP_FileSystem\GROUP_0.Collection\GROUP_1-Perms\JOB_1-FSAA System Scans\Output|SATDOMAIN\Domain Admins|FullControl' AS ROWKEY</span></span></span><br/><span><span><span>,     NEWID() AS RowGUID</span></span></span><br/><span><span><span>INTO SA_DynAction_SourceTable</span></span></span><br/><br/><span><span>Configure an action and point it to target the file system target (in this example, it was the "UNC" column).</span></span><br/><br/><span><span>On the next page, select "Dynamic", and then specify the Trustee to which the action should grant or deny access, as well as the column associated with the permissions the action should apply. In this example, those columns are called "TrusteeToApply" and "PermsToApply", respectively.</span></span></p>
<p/></div>
</article></body></html>