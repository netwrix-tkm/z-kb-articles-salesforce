<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>Agent Registration Script Examples</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000JhRCAU"/><meta name="Id" content="ka04u000000HdBYAA0"/><meta name="LastPublishedDate" content="2022-02-07T01:03:22.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:18:23.000+0000"/><meta name="FirstPublishedDate" content="2022-02-07T01:03:22.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="8325"/><meta name="ArticleNumber" content="000008325"/><meta name="description" content="HELPDESK"/></head><body><article class=" kb-articles"><div class="Content__c"><h2 id="AgentRegistrationScriptExamples-RegistrationScriptforHouzz">Registration Script for Houzz</h2><p>Small deployment with specific custom groups and not requirement for the devices to use the Change Tracker default groups</p><div class="code panel pdl conf-macro output-block"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">(agent.Name.StartsWith("ip-10-15-")?"Pay-k8s":agent.Name.StartsWith("appgate")?"Pay-AppGate":agent.Name.StartsWith("pay-salt")?"Pay-Salt":agent.Name.StartsWith("pay-mysql")?"Pay-MySql":agent.Name.StartsWith("pay-egress")?"Pay-Egress":agent.Name.StartsWith("pay-dns")?"Pay-Dns":agent.Name.StartsWith("pay-mhamanager")?"Pay-Mhamanager":"Linux Ubuntu")</pre>
</div></div><p><u>Explination:</u></p><p>Containerized environment where the name systems match the name of the group where Houzz want the registration to settle. In this script we are daisy chaining all the possible system name starts with and thwir relevent group.</p><p>From this ticket - <u>HELPDESK-7594</u></p><h2 id="AgentRegistrationScriptExamples-DevelopmentProvided">Development Provided</h2><p>How to use the Discovery Report with the registration script</p><div class="code panel pdl conf-macro output-block"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">agent.Name.StartsWith("WIN")?"Windows":data.GetValue("nnt_register_to_groups", "New Devices")</pre>
</div></div><p><u>Explination:</u></p><p>So if the agent Name is eg WIN2016, it goes into "Windows"</p><p>If the value of the variable "nnt_register_to_groups" from the data object (which gives access to the variables created in the registration report XML) has anything in it, it goes into that, otherwise it goes into "New Devices"</p><p>From this ticket - <u>HELPDESK-7594</u></p><p/><div class="code panel pdl conf-macro output-block"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">agent.IPv4.StartsWith("192.168.12.")?"Windows":(agent.IPv4.StartsWith("192.168.17.")?"Linux":(agent.IPv4.StartsWith("192.168.1.")?"Network Devices":"New Devices"))</pre>
</div></div><p><u>Explanation</u></p><p>If the agent’s IPv4 address starts with <code>192.168.12.</code> place it into the “Windows” group, if the agent IPv4 address starts with <code>192.168.17.</code> place it into the “Linux” group, if the agent IPv4 starts with <code>192.168.1.</code> place it into the “Network Devices” group, otherwise, it goes into the “New Devices” group.</p><p>From this ticket - HELPDESK-5710</p></div>
</article></body></html>