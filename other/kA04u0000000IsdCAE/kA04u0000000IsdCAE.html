<?xml version="1.0" encoding="UTF-8"?><html><head><meta charset="utf-8"/><title>McAfee AV interferes with SI Web Reporting Server (IIS)</title><meta name="label" content="employees_v"/><meta name="label" content="skb"/><meta name="KnowledgeArticleId" content="kA04u0000000IsdCAE"/><meta name="Id" content="ka04u000000HcxbAAC"/><meta name="LastPublishedDate" content="2022-02-01T18:38:00.000+0000"/><meta name="LastModifiedDate" content="2023-05-08T10:12:16.000+0000"/><meta name="FirstPublishedDate" content="2022-02-01T18:38:00.000+0000"/><meta name="Language" content="en_US"/><meta name="UrlName" content="7272"/><meta name="ArticleNumber" content="000007272"/><meta name="description" content="360008304132"/></head><body><article class=" kb-articles"><div class="Content__c"><p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> McAfee AV interferes with SI Web Reporting Server (IIS)</p>
<p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <span>McAfee AV interferes with SI Web Reporting Server (IIS)</span><br/><br/><strong><span>Background / more info:</span></strong><br/> <br/><span>Customers using McAfee VirusScan Enterprise 8.8 as well as other versions have reported McAfee breaks SI Web Reporting.  Typically see errors such as:</span><br/> <br/><span>"Attempted to access an unloaded AppDomain" as well as inability for user to log into web reporting from their browsers.</span><br/> <br/><span>Multiple attempts were made to resolve the issue through various configuration options in McAfee such as excluding SI Web Reporting related folders from real time scanning.  None of these proved to work long term.   </span><br/><strong><span><span><span>Having default FCN (File Change Notification) mode set to "on" in IIS, with McAffee "on-access" activity scanning enabled results in overflows of the IIS notification buffer of folder monitoring objects that leads to firing 'overwhelming notification', that causes appdomain shutdown by IIS. Since the SI Web Reporting app was not expected an appdomain shutdown during logon operation it lead to corrupted state of the reporting service that can only be fixed by restarting it.  (More details can be found in notes for I-1506).</span></span></span></strong><br/> <br/><strong><span><span>Note:</span></span></strong><strong><span><span><span> The registry setting change to disable FCN for IIS resolves the problem however this setting is global to IIS.   Other applications hosted by the same IIS would also be affected.  Some applications may rely on the FCN notifications to 'detect' configuration or other changes to their site and thus be adversely affected.  This is why the SI installer has not been modified to set this registry value.</span></span></span></strong><br/> </p>
<p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> <br/> <br/><span>1. Add DWORD value: HKLM\Software\Wow6432Node\Microsoft\ASP.NET\FCNMode = 1<br/>2. Reboot the server with IIS and SI Web Reporting Services</span><br/> </p>
<p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthINTERCEPT<br/><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SI - Web Reporting<br/><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> All<br/><strong><span class="wysiwyg-font-size-large">Legacy Article ID:</span></strong> 1436</p></div>
</article></body></html>